{% extends 'base.html' %}

{% block content %}
<div class="container mt-4">
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header">
                    <h4>{% if customer %}Edit{% else %}Add New{% endif %} Customer</h4>
                </div>
                <div class="card-body">
                    <form method="post">
                        {% csrf_token %}
                        <div class="form-group mb-3">
                            <label for="name">Name*</label>
                            <input type="text" class="form-control" id="name" name="name" value="{{ customer.name|default:'' }}" required>
                        </div>
                        <div class="form-group mb-3">
                            <label for="email">Email</label>
                            <input type="email" class="form-control" id="email" name="email" value="{{ customer.email|default:'' }}">
                        </div>
                        <div class="form-group mb-3">
                            <label for="phone">Phone*</label>
                            <input type="tel" class="form-control" id="phone" name="phone" value="{{ customer.phone|default:'' }}" required>
                        </div>
                        <div class="form-group mb-3">
                            <label for="address">Address*</label>
                            <textarea class="form-control" id="address" name="address" rows="3" required>{{ customer.address|default:'' }}</textarea>
                        </div>
                        <div class="form-group mb-3">
                            <label for="gstin">GSTIN</label>
                            <input type="text" class="form-control" id="gstin" name="gstin" value="{{ customer.gstin|default:'' }}" pattern="^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$" title="Please enter a valid GSTIN">
                            <small class="form-text text-muted">Format: 22AAAAA0000A1Z5</small>
                        </div>
                        <div class="d-flex justify-content-between">
                            <a href="{% url 'customer_list' %}" class="btn btn-secondary">Cancel</a>
                            <button type="submit" class="btn btn-primary">Save</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}
