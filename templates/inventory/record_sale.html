{% extends 'base.html' %}

{% block title %}Record Sale and Purchase{% endblock %}

{% block content %}
<h2>üìù Record a Sale or Purchase</h2>

<div class="form-row">
    <!-- Record Sale Form -->
    <div class="form-section">
        <h3>üí∞ Record a Sale</h3>
        <form method="post" action="{% url 'record_sale' %}">
            {% csrf_token %}
            <input type="hidden" name="record_sale" value="1">
            
            <div class="form-group">
                <label for="sale_product">Product</label>
                <select id="sale_product" name="product_id" required>
                    {% for product in products %}
                    <option value="{{ product.id }}">{{ product.name }} (Stock: {{ product.stock_quantity }})</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label for="sale_quantity">Quantity</label>
                <input type="number" id="sale_quantity" name="quantity" min="1" required>
            </div>
            
            <button type="submit" class="btn btn-primary icon-save">Save Sale</button>
        </form>
    </div>

    <!-- Record Purchase Form -->
    <div class="form-section">
        <h3>üõí Record a Purchase</h3>
        <form method="post" action="{% url 'record_sale' %}">
            {% csrf_token %}
            <input type="hidden" name="record_purchase" value="1">
            
            <div class="form-group">
                <label for="purchase_product">Product</label>
                <select id="purchase_product" name="product_id" required>
                    {% for product in products %}
                    <option value="{{ product.id }}">{{ product.name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label for="purchase_quantity">Quantity</label>
                <input type="number" id="purchase_quantity" name="quantity" min="1" required>
            </div>
            
            <div class="form-group">
                <label for="price_per_unit">Price per Unit (‚Çπ)</label>
                <input type="number" id="price_per_unit" name="price_per_unit" step="0.01" min="0" required>
            </div>
            
            <button type="submit" class="btn btn-secondary icon-save">Save Purchase</button>
        </form>
    </div>
</div>
{% endblock %}
